import{_ as b}from"../index.js";import{defineComponent as C,ref as D,openBlock as l,createElementBlock as d,Fragment as A,createCommentVNode as P,renderList as V,unref as k,createBlock as I,resolveDynamicComponent as L,defineAsyncComponent as u}from"/view-ui/libs/vue.js";import c,{events as B,UA as R,getAppOptions as S,extendsOptions as j,addRootStyleVar as F,importApp as H,importComponent as E,urls as T}from"/view-ui/libs/view.js";import{components as e,addHistory as U}from"/view-ui/libs/state.js";import{_ as $}from"../export-helper.js";import"/view-ui/libs/viewui.js";import"/view-ui/libs/network.js";const N=["src"],W=C({__name:"index",setup(q){function O(){const t=sessionStorage[c.pathname];if(t){const i=t.split(",");for(const n of i){const r=T[n];r&&U(r)}}}const m=D("");function v(t){const i=S(t);c.initOptions=j(i),i.var&&F(i.var);const{url:n,name:r,main:y,apps:x,custom:h,multi:g}=i;if(r&&(document.title=`${r} - ${i.brand}`),y){const{iframe:o,src:a,style:f={}}=y;o?m.value=o:typeof a=="string"&&e.main===void 0&&(e.main=u(()=>H(a).then(s=>{const{app:_}=s;return _&&_.style&&Object.assign(f,_.style),s.install?s.install():Object.assign(document.body.style,f),s})))}else h&&e[n]===void 0&&(e[n]=u(()=>E(h.src)));const p=[];for(const o in g){const a=g[o];if(a){const{src:f}=a;f&&e[o]===void 0&&p.push(E(f).then(s=>e[o]=s))}}p.length&&(c.initComponentPromise=Promise.all(p)),x&&e.float===void 0&&(e.float=u(()=>x.float==="fixed"?b(()=>import("./fixed/index.js"),["platform/multi/fixed/index.js","platform/Index2.js","platform/export-helper.js"]):b(()=>import("./float/index.js"),["platform/multi/float/index.js","platform/index.js","platform/Index2.js","platform/export-helper.js"]))),O()}return c.initDataPromise.then(()=>v(c.pathname)),B.on("init",t=>v(t)),R==="Firefox"&&document.addEventListener("dragstart",t=>t.preventDefault()),(t,i)=>(l(),d(A,null,[m.value?(l(),d("iframe",{key:0,src:m.value,frameborder:"0"},null,8,N)):P("",!0),(l(!0),d(A,null,V(k(e),n=>(l(),I(L(n)))),256))],64))}});const X=$(W,[["__scopeId","data-v-82a182b0"]]);export{X as default};
